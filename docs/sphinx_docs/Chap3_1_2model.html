<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Model.xml &mdash; ECOGEN 4.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=9f5556dd"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Mesh.xml" href="Chap3_1_3mesh.html" />
    <link rel="prev" title="Main.xml" href="Chap3_1_1main.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            ECOGEN
          </a>
              <div class="version">
                4.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Chap1_introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Chap2_installation_Chapter.html">Installation instructions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="Chap3_IO_Chapter.html">I/O descriptions</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="Chap3_1inputFiles.html">Input Files</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Chap3_1_1main.html">Main.xml</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Model.xml</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#flow-model">Flow model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#equations-of-state-eos">Equations of state (EOS)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#advected-additional-variables">Advected additional variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#relaxation-procedures">Relaxation procedures</a></li>
<li class="toctree-l4"><a class="reference internal" href="#source-terms">Source terms</a></li>
<li class="toctree-l4"><a class="reference internal" href="#symmetry-terms">Symmetry terms</a></li>
<li class="toctree-l4"><a class="reference internal" href="#additional-physics">Additional physics</a></li>
<li class="toctree-l4"><a class="reference internal" href="#low-mach-preconditioning">Low-Mach preconditioning</a></li>
<li class="toctree-l4"><a class="reference internal" href="#d-geometry-with-smooth-cross-section-variation">1D geometry with smooth cross section variation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Chap3_1_3mesh.html">Mesh.xml</a></li>
<li class="toctree-l3"><a class="reference internal" href="Chap3_1_4initialConditions.html">InitialConditions.xml</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Chap3_2materials.html">Materials</a></li>
<li class="toctree-l2"><a class="reference internal" href="Chap3_3outputFiles.html">Output Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="Chap3_4featuresModels.html">Feature compatibility</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Chap4_tutorials_Chapter.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="Chap5_testCases_Chapter.html">Test cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="Chap6_developersGuide_Chapter.html">Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Chap7_license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="zBibliography.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ECOGEN</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="Chap3_IO_Chapter.html">I/O descriptions</a></li>
          <li class="breadcrumb-item"><a href="Chap3_1inputFiles.html">Input Files</a></li>
      <li class="breadcrumb-item active">Model.xml</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/Chap3_1_2model.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="model-xml">
<span id="sec-input-model"></span><h1>Model.xml<a class="headerlink" href="#model-xml" title="Link to this heading"></a></h1>
<p>Fluid mechanics models used in the computation are specified in the <em>model.xml</em> file. It is <strong>mandatory</strong> located in the folder of the current case. A typical form of this file is:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot; standalone = &quot;yes&quot;?&gt;</span>
<span class="nt">&lt;model&gt;</span>
<span class="w">  </span><span class="nt">&lt;flowModel</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;PressureVelocityEq&quot;</span><span class="w"> </span><span class="na">numberPhases=</span><span class="s">&quot;2&quot;</span><span class="w"> </span><span class="na">alphaNull=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;EOS</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;IG_air.xml&quot;</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;EOS</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;SG_water.xml&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/model&gt;</span>
</pre></div>
</div>
<section id="flow-model">
<span id="sec-input-flowmodel"></span><h2>Flow model<a class="headerlink" href="#flow-model" title="Link to this heading"></a></h2>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;flowModel</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;PressureVelocityEq&quot;</span><span class="w"> </span><span class="na">numberPhases=</span><span class="s">&quot;2&quot;</span><span class="w"> </span><span class="na">numberTransports=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">alphaNull=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>The <code class="code highlight xml docutils literal highlight-xml"><span class="nt">&lt;flowModel&gt;</span></code> markup is <strong>mandatory</strong> to specify the mathematical model to solve during the computation. This markup may contain the following attributes:</p>
<ul class="simple">
<li><p><code class="code highlight xml docutils literal highlight-xml">name</code>: Name of the mathematical flow model. This attribute can take the values: <em>Euler</em> <span id="id1">[<a class="reference internal" href="zBibliography.html#id8" title="L. Euler. Principes généraux du mouvement des fluides. Mémoires de l'Académie des Sciences de Berlin, pages 274–315, 1757.">Eul57</a>]</span>, <em>PressureVelocityEq</em> (previously named <em>Kapila</em>) <span id="id2">[<a class="reference internal" href="zBibliography.html#id240" title="R. Saurel, F. Petitpas, and R.A. Berry. Simple and efficient relaxation methods for interfaces separating compressible fluids, cavitating flows and shocks in multiphase mixtures. Journal of Computational Physics, 228(5):1678–1712, 2009.">SPB09</a>]</span><span id="id3">[<a class="reference internal" href="zBibliography.html#id292" title="A. Kapila, R. Menikoff, J. Bdzil, S. Son, and D. Stewart. Two-phase modeling of DDT in granular materials: Reduced equations. Physics of Fluids, 13:3002–3024, 2001.">KMB+01</a>]</span>, <em>VelocityEq</em> (previously named <em>multiP</em>) <span id="id4">[<a class="reference internal" href="zBibliography.html#id3" title="K. Schmidmayer, J. Cazé, F. Petitpas, E. Daniel, and N. Favrie. Modelling interactions between waves and diffused interfaces. x, x:x, 2021.">SCazeP+21</a>]</span>, <em>VelocityEqTotEnergy</em>, <em>TemperaturePressureVelocityEq</em> (previously named <em>ThermalEq</em>) <span id="id5">[<a class="reference internal" href="zBibliography.html#id207" title="S. Le Martelot, R. Saurel, and B. Nkonga. Towards the direct numerical simulation of nucleate boiling flows. International Journal of Multiphase Flow, 66:62–78, 2014.">LMSN14</a>]</span>, <em>EulerHomogeneous</em>, <em>EulerKorteweg</em> or <em>NonLinearSchrodinger</em> <span id="id6">[<a class="reference internal" href="zBibliography.html#id6" title="F. Dhaouadi. An augmented lagrangian approach for Euler-Korteweg type equations. PhD thesis, Université de Toulouse, Université Toulouse III-Paul Sabatier, 2020.">Dha20</a>]</span>.</p></li>
<li><p><code class="code highlight xml docutils literal highlight-xml">numberPhases</code>: Integer number corresponding to the number of phases present in the simulation. The total amount of equations is related to this number. This attribute is not necessary when the values of <code class="code highlight xml docutils literal highlight-xml">name</code> are <em>Euler</em> or <em>EulerHomogeneous</em>.</p></li>
<li><p><code class="code highlight xml docutils literal highlight-xml">numberTransports</code>: This attribute is optionnal and is set to 0 as default. It can be used to add specific variables advected in the flow (color functions).</p></li>
<li><p><code class="code highlight xml docutils literal highlight-xml">alphaNull</code>: For <em>PressureVelocityEq</em>, <em>VelocityEq</em> and <em>VelocityEqTotEnergy</em> models, the volume fraction can either be null (<em>true</em>) or not (<em>false</em>) and this choice is determined by this parameter. Default value is <em>false</em>.</p></li>
</ul>
<p><strong>Remark:</strong></p>
<p>If <em>EulerHomogeneous</em> model is chosen, two other attributes are to be used: <code class="code highlight xml docutils literal highlight-xml">liquid</code> and <code class="code highlight xml docutils literal highlight-xml">vapor</code> to specify the number corresponding to the liquid phase and the vapor phase. They are phase 0 for the first and 1 for the second.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;flowModel</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;EulerHomogeneous&quot;</span><span class="w"> </span><span class="na">liquid=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">vapor=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;EOS</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;SG_waterLiq.xml&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;EOS</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;IG_waterVap.xml&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>If <em>EulerKorteweg</em> or <em>NonLinearSchrodinger</em> models are chosen, other attributes are needed, in accordance with Dhaouadi’s thesis <span id="id7">[<a class="reference internal" href="zBibliography.html#id6" title="F. Dhaouadi. An augmented lagrangian approach for Euler-Korteweg type equations. PhD thesis, Université de Toulouse, Université Toulouse III-Paul Sabatier, 2020.">Dha20</a>]</span>. Note that Euler–Korteweg model is written for a given temperature and that non-linear Schrödinger model doesn’t need an EOS.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;flowModel</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;EulerKorteweg&quot;</span><span class="w"> </span><span class="na">alpha=</span><span class="s">&quot;1.e-2&quot;</span><span class="w"> </span><span class="na">beta=</span><span class="s">&quot;2.e-5&quot;</span><span class="w"> </span><span class="na">temperature=</span><span class="s">&quot;550&quot;</span><span class="w"> </span><span class="na">kappa=</span><span class="s">&quot;1.e-2&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;EOS</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Polynomial_arbitrary.xml&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;flowModel</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;NonLinearSchrodinger&quot;</span><span class="w"> </span><span class="na">alpha=</span><span class="s">&quot;3.33e-3&quot;</span><span class="w"> </span><span class="na">beta=</span><span class="s">&quot;2.e-5&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
</section>
<section id="equations-of-state-eos">
<h2>Equations of state (EOS)<a class="headerlink" href="#equations-of-state-eos" title="Link to this heading"></a></h2>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;EOS</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;IG_air.xml&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>The <em>model.xml</em> input file <strong>must contain</strong> as many <code class="code highlight xml docutils literal highlight-xml"><span class="nt">&lt;EOS&gt;</span></code> markups as number of phases specified in the <a class="reference internal" href="#sec-input-flowmodel"><span class="std std-ref">Flow model</span></a> markup. Each phase is described thanks to relations and parameters (see Section <a class="reference internal" href="Chap3_2materials.html#sec-io-materials"><span class="std std-ref">Materials</span></a> for more details). The values of these parameters are specified in a separate file: the name attribute contains the name of this file which must be placed in the <strong>ECOGEN/libEOS/</strong> folder. Some fluid files are already present in the ECOGEN package.</p>
</section>
<section id="advected-additional-variables">
<span id="sec-input-transport"></span><h2>Advected additional variables<a class="headerlink" href="#advected-additional-variables" title="Link to this heading"></a></h2>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;transport</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;color&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>The <em>model.xml</em> input fle <strong>must contain</strong> as many <code class="code highlight xml docutils literal highlight-xml"><span class="nt">&lt;transport&gt;</span></code> markups as number of transports specified in the <a class="reference internal" href="#sec-input-flowmodel"><span class="std std-ref">Flow model</span></a> markup. Each transported variable is described by its name. The default number of advected variable is 0.</p>
</section>
<section id="relaxation-procedures">
<h2>Relaxation procedures<a class="headerlink" href="#relaxation-procedures" title="Link to this heading"></a></h2>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;relaxation</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;PT&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>An additional markup <code class="code highlight xml docutils literal highlight-xml"><span class="nt">&lt;relaxation&gt;</span></code> may be used to impose some specific equilibrium between the phases depending on the flow model used. The attribute <code class="code highlight xml docutils literal highlight-xml">type</code> specifies the type of equilibrium:</p>
<ul class="simple">
<li><p><em>P</em>: A pressure equilibrium is imposed at every location of the flow. The attribute <code class="code highlight xml docutils literal highlight-xml">speed</code> can be added to specify the speed at which the relaxation operates (<em>infinite</em> or <em>finite</em>). Default is <em>infinite</em>. If a finite relaxation is chosen, the <code class="code highlight xml docutils literal highlight-xml">rate</code> and <code class="code highlight xml docutils literal highlight-xml">solver</code> have to be specified. The rate is a real number while the solver can either be <em>Euler</em> <span id="id8">[<a class="reference internal" href="zBibliography.html#id3" title="K. Schmidmayer, J. Cazé, F. Petitpas, E. Daniel, and N. Favrie. Modelling interactions between waves and diffused interfaces. x, x:x, 2021.">SCazeP+21</a>]</span> or <em>LSODA</em> <span id="id9">[<a class="reference internal" href="zBibliography.html#id4" title="A. C. Hindmarsh. ODEPACK, a systematized collection of ODE solvers. Scientific computing, pages 55–64, 1983.">Hin83</a>, <a class="reference internal" href="zBibliography.html#id5" title="L. Petzold. Automatic selection of methods for solving stiff and nonstiff systems of ordinary differential equations. SIAM J. Sci. Stat. Comput., 4(1):136–148, 1983.">Pet83</a>]</span>.</p></li>
</ul>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;relaxation</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;P&quot;</span><span class="w"> </span><span class="na">speed=</span><span class="s">&quot;infinite&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;relaxation</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;P&quot;</span><span class="w"> </span><span class="na">speed=</span><span class="s">&quot;finite&quot;</span><span class="w"> </span><span class="na">rate=</span><span class="s">&quot;1.e-5&quot;</span><span class="w"> </span><span class="na">solver=</span><span class="s">&quot;Euler&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p><em>PT</em>: Both pressure and thermal equilibrium are imposed at every location of the flow. It does not require additional attributes.</p></li>
<li><p><em>PTMu</em>: A thermodynamical equilibrium is imposed at every location of the flow. It must be associated with the node <code class="code highlight xml docutils literal highlight-xml"><span class="nt">&lt;dataPTMu&gt;</span></code> whose attributes are <code class="code highlight xml docutils literal highlight-xml">liquid</code> and <code class="code highlight xml docutils literal highlight-xml">vapor</code> to specify the name of the EOS of the liquid and the vapor phase. Hereafter the complete node when <em>PTMu</em> is used:</p></li>
</ul>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;relaxation</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;PTMu&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;dataPTMu</span><span class="w"> </span><span class="na">liquid=</span><span class="s">&quot;SG_waterLiq.xml&quot;</span><span class="w"> </span><span class="na">vapor=</span><span class="s">&quot;IG_waterVap.xml&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/relaxation&gt;</span>
</pre></div>
</div>
</section>
<section id="source-terms">
<h2>Source terms<a class="headerlink" href="#source-terms" title="Link to this heading"></a></h2>
<p>The additional <code class="code highlight xml docutils literal highlight-xml"><span class="nt">&lt;sourceTerms&gt;</span></code> markup can be used to numerically integrate some source terms in the equations. The attribute <code class="code highlight xml docutils literal highlight-xml">type</code> selects the source term:</p>
<ul class="simple">
<li><p><em>heating</em>: Related to a thermal energy heating/cooling. This attribute requires the <code class="code highlight xml docutils literal highlight-xml"><span class="nt">&lt;dataHeating&gt;</span></code> node with the attribute <code class="code highlight xml docutils literal highlight-xml">volumeHeatPower</code>; a real number corresponding to the power by volume unit added to the flow (unit: W/m3 (SI)).</p></li>
</ul>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;sourceTerms</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;heating&quot;</span><span class="w"> </span><span class="na">order=</span><span class="s">&quot;EULER&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;dataHeating</span><span class="w"> </span><span class="na">volumeHeatPower=</span><span class="s">&quot;1.e6&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/sourceTerms&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p><em>gravity</em>: If the gravity is considered. The node <code class="code highlight xml docutils literal highlight-xml"><span class="nt">&lt;dataGravity&gt;</span></code> must be present with the attributes <code class="code highlight xml docutils literal highlight-xml">x</code>, <code class="code highlight xml docutils literal highlight-xml">y</code> and <code class="code highlight xml docutils literal highlight-xml">z</code> giving the coordinates for the gravity acceleration vector in real numbers (unit: m/s2 (SI)).</p></li>
</ul>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;sourceTerms</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;gravity&quot;</span><span class="w"> </span><span class="na">order=</span><span class="s">&quot;EULER&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;gravity</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;0.&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;-9.81&quot;</span><span class="w"> </span><span class="na">z=</span><span class="s">&quot;0.&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/sourceTerms&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p><em>MRF</em>: For a simulation in a moving reference frame. Allow to compute solution in a rotating frame. The node <code class="code highlight xml docutils literal highlight-xml"><span class="nt">&lt;omega&gt;</span></code> requires the attributes <code class="code highlight xml docutils literal highlight-xml">x</code>, <code class="code highlight xml docutils literal highlight-xml">y</code> and <code class="code highlight xml docutils literal highlight-xml">z</code> giving the coordinates for the rotating vector in real numbers (unit: rad/s (SI)). The node <code class="code highlight xml docutils literal highlight-xml"><span class="nt">&lt;timeToOmega&gt;</span></code> is optional and allow to specify a progressing acceleration (linear) to the final rotating velocity (requires the attribute <code class="code highlight xml docutils literal highlight-xml">tf</code> for acceleration time).</p></li>
</ul>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;sourceTerms</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;MRF&quot;</span><span class="w"> </span><span class="na">order=</span><span class="s">&quot;RK4&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;omega</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;0.&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;0.&quot;</span><span class="w"> </span><span class="na">z=</span><span class="s">&quot;1.&quot;</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;timeToOmega</span><span class="w"> </span><span class="na">tf=</span><span class="s">&quot;1.e-3&quot;</span><span class="nt">/&gt;</span><span class="w">  </span><span class="cm">&lt;!-- Optional: If activated, the angular velocity increase linearly to omega in during tf --&gt;</span>
<span class="nt">&lt;/sourceTerms&gt;</span>
</pre></div>
</div>
<p>Source-term integration can be done up to 4th order. Available integration schemes are:</p>
<ul class="simple">
<li><p><em>EULER</em> (1st order)</p></li>
<li><p>Runge–Kutta 2 <em>RK2</em> (2nd order)</p></li>
<li><p>Runge–Kutta 4 <em>RK4</em> (4th order)</p></li>
</ul>
<p>Scheme selection is done through <code class="code highlight xml docutils literal highlight-xml">order</code> attribute.</p>
</section>
<section id="symmetry-terms">
<h2>Symmetry terms<a class="headerlink" href="#symmetry-terms" title="Link to this heading"></a></h2>
<p>Both cylindrical (2D) and spherical (1D) symmetries are implemented. The additional <code class="code highlight xml docutils literal highlight-xml"><span class="nt">&lt;symmetryTerm&gt;</span></code> markup can be used. It requires the attribute <code class="code highlight xml docutils literal highlight-xml">type</code> that can take the value <em>cylindrical</em> or <em>spherical</em>. It also requires an additional node to specify the radial axis:</p>
<ul class="simple">
<li><p>Cylindrical:</p></li>
</ul>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;symmetryTerm</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;cylindrical&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;dataSymCyl</span><span class="w"> </span><span class="na">radialAxis=</span><span class="s">&quot;X&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/symmetryTerm&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Spherical:</p></li>
</ul>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;symmetryTerm</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;spherical&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;dataSymSpher</span><span class="w"> </span><span class="na">radialAxis=</span><span class="s">&quot;X&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/symmetryTerm&gt;</span>
</pre></div>
</div>
</section>
<section id="additional-physics">
<span id="sec-input-additionalphysic"></span><h2>Additional physics<a class="headerlink" href="#additional-physics" title="Link to this heading"></a></h2>
<p>Depending on the model chosen in section <a class="reference internal" href="#sec-input-flowmodel"><span class="std std-ref">Flow model</span></a>, additional physical effects can be added. This is the case for surface tension, viscosity and conductive heat transfers. These additional physical effects are obtained thanks to the additional markup <code class="code highlight xml docutils literal highlight-xml">additionalPhysics</code> with the attribute <code class="code highlight xml docutils literal highlight-xml">type</code> that can take different value according to the chosen effect.</p>
<section id="surface-tension">
<h3>Surface tension<a class="headerlink" href="#surface-tension" title="Link to this heading"></a></h3>
<p>This physical effect is obtained by using the type <em>surface tension</em> and its treatment is detailed in <span id="id10">[<a class="reference internal" href="zBibliography.html#id171" title="K. Schmidmayer, F. Petitpas, E. Daniel, N. Favrie, and S.L. Gavrilyuk. A model and numerical method for compressible flows with capillary effects. Journal of Computational Physics, 334:468–496, 2017.">SPD+17</a>]</span>. Then it requires the node <code class="code highlight xml docutils literal highlight-xml">dataSurfaceTension</code> with following attributes:</p>
<ul class="simple">
<li><p><code class="code highlight xml docutils literal highlight-xml">transport</code>: This is the name of advected variable used as color function for surface-tension terms. This advected variable has been precised in the section <a class="reference internal" href="#sec-input-transport"><span class="std std-ref">Advected additional variables</span></a>. The name should be the same.</p></li>
<li><p><code class="code highlight xml docutils literal highlight-xml">sigma</code>: A real number for the surface-tension coefficient (unit: N/m (SI)).</p></li>
</ul>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;additionalPhysic</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;surfaceTension&quot;</span><span class="w"> </span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;dataSurfaceTension</span><span class="w"> </span><span class="na">transport=</span><span class="s">&quot;color&quot;</span><span class="w"> </span><span class="na">sigma=</span><span class="s">&quot;72.e-3&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/additionalPhysic&gt;</span>
</pre></div>
</div>
</section>
<section id="viscosity">
<h3>Viscosity<a class="headerlink" href="#viscosity" title="Link to this heading"></a></h3>
<p>This physical effect is obtained by using the type <em>viscosity</em> and it needs the attribute <code class="code highlight xml docutils literal highlight-xml">mu</code> of the <code class="code highlight xml docutils literal highlight-xml"><span class="nt">&lt;physicalParameters&gt;</span></code> to be set in the EOS files (<a class="reference internal" href="Chap3_2materials.html#sec-io-materials"><span class="std std-ref">Materials</span></a>).</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;additionalPhysic</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;viscosity&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
</section>
<section id="others">
<h3>Others<a class="headerlink" href="#others" title="Link to this heading"></a></h3>
<p>In dev…</p>
</section>
</section>
<section id="low-mach-preconditioning">
<h2>Low-Mach preconditioning<a class="headerlink" href="#low-mach-preconditioning" title="Link to this heading"></a></h2>
<p>In case of low-speed flows, a low-Mach preconditioning can be applied to the selected flow model.
The method is detailed in <span id="id11">[<a class="reference internal" href="zBibliography.html#id210" title="S. Le Martelot, B. Nkonga, and R. Saurel. Liquid and liquid–gas flows at all speeds. Journal of Computational Physics, 255:53–82, 2013.">LMNS13</a>]</span>.
Currently this option is compatible with the flow models: Euler, UEq and PUEq.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;lowMach</span><span class="w"> </span><span class="na">state=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>Note that the minimum reference Mach number can be chosen if required (default is 0.01).
When the local Mach number of the flow is lower than this threshold, it is replaced by the threshold value in order to keep a reasonable computation time.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;lowMach</span><span class="w"> </span><span class="na">state=</span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="na">machRefMin=</span><span class="s">&quot;5.e-2&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>For an example of use, see the test case presented in the Section <a class="reference internal" href="Chap5_1Euler_2D_3nozzles.html#sec-tests-euler-2d-nozzlelowmach"><span class="std std-ref">Low-Mach subsonic flow</span></a>.</p>
</section>
<section id="d-geometry-with-smooth-cross-section-variation">
<h2>1D geometry with smooth cross section variation<a class="headerlink" href="#d-geometry-with-smooth-cross-section-variation" title="Link to this heading"></a></h2>
<p>In case of a 2D geometry with smooth cross section variation, it is possible to use a 1D geometry and reproduce 2D effects with this attribute as detailed in the first appendix of <span id="id12">[<a class="reference internal" href="zBibliography.html#id210" title="S. Le Martelot, B. Nkonga, and R. Saurel. Liquid and liquid–gas flows at all speeds. Journal of Computational Physics, 255:53–82, 2013.">LMNS13</a>]</span>.
This option is only compatible with unstructured meshes defined with flow direction along the X-axis.
Boundary condition contributions in other directions than the X-axis should use <em>nullFlux</em> boundary condition (see <a class="reference internal" href="Chap3_1_4initialConditions.html#sec-input-initialconditions"><span class="std std-ref">InitialConditions.xml</span></a>).
Note that this option is available for the flow models: Euler, UEq, PUEq and EulerHomogeneous.
For an example of use, see the test case presented in the Section <a class="reference internal" href="Chap5_1Euler_2D_3nozzles.html#sec-tests-euler-2d-nozzlelowmach"><span class="std std-ref">Low-Mach subsonic flow</span></a>.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;geometry</span><span class="w"> </span><span class="na">smoothCrossSection1d=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Chap3_1_1main.html" class="btn btn-neutral float-left" title="Main.xml" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Chap3_1_3mesh.html" class="btn btn-neutral float-right" title="Mesh.xml" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, code-mphi.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>